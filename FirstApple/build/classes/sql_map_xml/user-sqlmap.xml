<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap       
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"       
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>

	<typeAlias type="web.model.User" alias="user" />
	<resultMap id="userResult" class="web.model.User">
		<result property="userId" column="user_id" />
		<result property="name" column="name" />
		<result property="password" column="password" />
		<result property="sex" column="sex" />
	</resultMap>

	<insert id="addUser" parameterClass="user">
		insert into
		user(user_id,name,password,sex)
		values(#userId#,#name#,#password#,#sex#)
	</insert>

	<select id="getUserById" resultMap="userResult">
		select
		user_id,name,password,sex from user where user_id=#userId#
	</select>

	<select id="getUserByName" resultMap="userResult">
		select
		user_id,name,password,sex from user where name=#name#
	</select>

	<!-- 更新对象 name -->
	<delete id="updateUser" parameterClass="user">
		update user set name=#name#,sex=#sex#,password=#password# where
		user_id=#userId#
	</delete>

	<delete id="deleteUser">
		delete from user where user_id=#userId#
	</delete>


</sqlMap>  
